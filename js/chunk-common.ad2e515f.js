"use strict";(self["webpackChunkbook_of_ideas"]=self["webpackChunkbook_of_ideas"]||[]).push([[64],{6410:(e,l,a)=>{a.d(l,{E3:()=>J,iE:()=>Y,jt:()=>$,WT:()=>M,px:()=>X,fj:()=>G,MI:()=>z});a(246);var i=a(3673);(0,i.dD)("data-v-eedbeaec");const o=(0,i._)("div",{class:"text-h6"},"New list",-1);function n(e,l,a,n,t,d){const r=(0,i.up)("q-card-section"),s=(0,i.up)("q-input"),c=(0,i.up)("q-btn"),u=(0,i.up)("q-card-actions"),p=(0,i.up)("q-card"),m=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.j4)(m,{ref:"dialogRef",onHide:n.onDialogHide},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{class:"q-dialog-plugin wider-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[o])),_:1}),(0,i.Wm)(r,{class:"q-pt-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{label:"Name",ref:"nameRef",modelValue:n.name,"onUpdate:modelValue":l[0]||(l[0]=e=>n.name=e),autofocus:"",hint:"Required",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"]),(0,i.Wm)(s,{label:"Description",ref:"descriptionRef",type:"textarea",rows:"4",hint:"Required",modelValue:n.description,"onUpdate:modelValue":l[1]||(l[1]=e=>n.description=e),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])])),_:1}),(0,i.Wm)(u,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{color:"grey",label:"Cancel",onClick:n.onDialogCancel},null,8,["onClick"]),(0,i.Wm)(c,{color:"primary",label:"OK",onClick:n.onSubmit},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onHide"])}(0,i.Cn)();a(71);var t=a(1959),d=a(1701);const r={emits:[...d.Z.emits],props:{list:{type:Object,optional:!0}},setup(e){var l,a;const{dialogRef:i,onDialogHide:o,onDialogOK:n,onDialogCancel:r}=(0,d.Z)(),s=(0,t.Vh)(e,"list").value,c=(0,t.iH)(null!==(l=null===s||void 0===s?void 0:s.name)&&void 0!==l?l:""),u=(0,t.iH)(null),p=(0,t.iH)(null!==(a=null===s||void 0===s?void 0:s.description)&&void 0!==a?a:""),m=(0,t.iH)(null),g=()=>{const e={name:c.value,description:p.value,id:null===s||void 0===s?void 0:s.id,items:null===s||void 0===s?void 0:s.items};n(e)},f=()=>{u.value.validate(),m.value.validate(),u.value.hasError||m.value.hasError||g()};return{dialogRef:i,onDialogHide:o,onDialogCancel:r,onSubmit:f,name:c,nameRef:u,description:p,descriptionRef:m}}};var s=a(1477),c=a(151),u=a(2471),p=a(4027),m=a(5589),g=a(2426),f=a(9367),v=a(8240),w=a(7518),b=a.n(w);r.render=n,r.__scopeId="data-v-eedbeaec";const C=r;b()(r,"components",{QDialog:s.Z,QCard:c.Z,QSlideTransition:u.Z,QImg:p.Z,QCardSection:m.Z,QInput:g.Z,QCardActions:f.Z,QBtn:v.Z});var q=a(8880);(0,i.dD)("data-v-79acd253");const _=(0,i._)("div",{class:"absolute-full flex flex-center bg-negative text-white"}," Cannot load image ",-1),h=(0,i._)("div",{class:"text-h6"},"New idea",-1);function k(e,l,a,o,n,t){const d=(0,i.up)("q-img"),r=(0,i.up)("q-slide-transition"),s=(0,i.up)("q-card-section"),c=(0,i.up)("q-input"),u=(0,i.up)("q-option-group"),p=(0,i.up)("q-icon"),m=(0,i.up)("q-file"),g=(0,i.up)("q-btn"),f=(0,i.up)("q-card-actions"),v=(0,i.up)("q-card"),w=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.j4)(w,{ref:"dialogRef",onHide:o.onDialogHide},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{class:"q-dialog-plugin wider-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(d,{src:o.picLink,class:"short-image",fit:"cover"},{error:(0,i.w5)((()=>[_])),_:1},8,["src"]),[[q.F8,o.picLink]])])),_:1}),(0,i.Wm)(s,null,{default:(0,i.w5)((()=>[h])),_:1}),(0,i.Wm)(s,{class:"q-pt-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{label:"Name",ref:"nameRef",modelValue:o.name,"onUpdate:modelValue":l[0]||(l[0]=e=>o.name=e),autofocus:"",hint:"Required",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"]),(0,i.Wm)(c,{label:"Description",ref:"descriptionRef",type:"textarea",rows:"4",hint:"Required",modelValue:o.description,"onUpdate:modelValue":l[1]||(l[1]=e=>o.description=e),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"]),(0,i.Wm)(c,{label:"Idea URL",ref:"urlRef",hint:"Required",modelValue:o.url,"onUpdate:modelValue":l[2]||(l[2]=e=>o.url=e),type:"url",rules:[e=>!!e||"Field is required",e=>o.isValidUrl(e)||"Must be a valid URL"]},null,8,["modelValue","rules"]),(0,i.Wm)(u,{class:"q-pt-md",dense:"",inline:"",modelValue:o.picSource,"onUpdate:modelValue":l[3]||(l[3]=e=>o.picSource=e),options:[{label:"Online image",value:"url"},{label:"Upload image",value:"upload"},{label:"No image",value:"none"}],color:"primary"},null,8,["modelValue"]),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(c,{label:"Picture URL",ref:"picUrlRef",modelValue:o.picUrl,"onUpdate:modelValue":l[4]||(l[4]=e=>o.picUrl=e),clearable:"","clear-icon":"close",rules:[e=>!e||o.isValidUrl(e)||"Must be a valid URL"]},null,8,["modelValue","rules"]),[[q.F8,"url"===o.picSource]])])),_:1}),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>["upload"===o.picSource?((0,i.wg)(),(0,i.j4)(m,{key:0,label:"Picture",ref:"picFileRef",modelValue:o.picFile,"onUpdate:modelValue":l[5]||(l[5]=e=>o.picFile=e),accept:"image/*",clearable:"","clear-icon":"close"},{before:(0,i.w5)((()=>[(0,i.Wm)(p,{name:"file_upload"})])),_:1},8,["modelValue"])):(0,i.kq)("",!0)])),_:1})])),_:1}),(0,i.Wm)(f,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{color:"grey",label:"Cancel",onClick:o.onDialogCancel},null,8,["onClick"]),(0,i.Wm)(g,{color:"primary",label:"OK",onClick:o.onSubmit},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onHide"])}(0,i.Cn)();a(7965);var D=a(1325);const Z={emits:[...d.Z.emits],setup(e){const{dialogRef:l,onDialogHide:a,onDialogOK:i,onDialogCancel:o}=(0,d.Z)(),n=(0,t.iH)(""),r=(0,t.iH)(null),s=(0,t.iH)(""),c=(0,t.iH)(null),u=(0,t.iH)(""),p=(0,t.iH)(null),m=(0,t.iH)(""),g=(0,t.iH)(null),f=(0,t.iH)(null),v=(0,t.iH)(null),w=(0,t.iH)("none"),b=(0,t.Fl)((()=>"none"===w.value?"":"url"===w.value?m.value:"upload"===w.value&&f.value?URL.createObjectURL(f.value):null)),C=()=>{const e={name:n.value,description:s.value,url:u.value,picUrl:"url"===w.value?m.value:"",picFile:"upload"===w.value?f.value:null};i(e)},q=()=>{r.value.validate(),c.value.validate(),p.value.validate(),r.value.hasError||c.value.hasError||p.value.hasError||C()};return{dialogRef:l,onDialogHide:a,onDialogCancel:o,onSubmit:q,name:n,nameRef:r,description:s,descriptionRef:c,url:u,urlRef:p,picSource:w,picUrl:m,picUrlRef:g,picFile:f,picFileRef:v,isValidUrl:D.j,picLink:b}}};var R=a(7011),W=a(4816),H=a(4554);Z.render=k,Z.__scopeId="data-v-79acd253";const Q=Z;b()(Z,"components",{QDialog:s.Z,QCard:c.Z,QSlideTransition:u.Z,QImg:p.Z,QCardSection:m.Z,QInput:g.Z,QOptionGroup:R.Z,QFile:W.Z,QIcon:H.Z,QCardActions:f.Z,QBtn:v.Z});var V=a(2323);(0,i.dD)("data-v-c217cb0e");const I=(0,i._)("div",{class:"absolute-full flex flex-center bg-negative text-white"}," Cannot load image ",-1),y={class:"text-h6"};function U(e,l,a,o,n,t){const d=(0,i.up)("q-img"),r=(0,i.up)("q-slide-transition"),s=(0,i.up)("q-icon"),c=(0,i.up)("q-card-section"),u=(0,i.up)("q-btn"),p=(0,i.up)("q-card-actions"),m=(0,i.up)("q-card"),g=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.j4)(g,{ref:"dialogRef",onHide:o.onDialogHide},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{class:"q-dialog-plugin wider-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[""!=o.picUrl?((0,i.wg)(),(0,i.j4)(d,{key:0,src:o.picUrl,height:"250px",fit:"cover"},{error:(0,i.w5)((()=>[I])),_:1},8,["src"])):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i._)("div",y,[a.idea.starred?((0,i.wg)(),(0,i.j4)(s,{key:0,class:"q-pr-md align-baseline",name:"star",color:"amber"})):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,V.zw)(a.idea.name),1)])])),_:1}),(0,i.Wm)(c,{class:"q-pt-none"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.linesToArray(a.idea.description),(e=>((0,i.wg)(),(0,i.iD)("p",{key:e},(0,V.zw)(e),1)))),128))])),_:1}),(0,i.Wm)(p,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{type:"a",color:"primary",label:"Go there!",icon:"launch",href:a.idea.url,target:"_blank"},null,8,["href"])])),_:1})])),_:1})])),_:1},8,["onHide"])}(0,i.Cn)();var O=a(7874),S=a(3437);const x={props:{idea:Object},emits:[...d.Z.emits],setup(e){const{dialogRef:l,onDialogHide:a,onDialogOK:i,onDialogCancel:o}=(0,d.Z)(),n=(0,O.oR)(),r=(0,t.Vh)(e,"idea"),s=(0,t.Fl)((()=>n.getters["images/getImageSrc"](r.value.id)));return{dialogRef:l,onDialogHide:a,picUrl:s,onOKClick:i,openURL:S.Z,linesToArray:D.X}}};x.render=U,x.__scopeId="data-v-c217cb0e";const F=x;b()(x,"components",{QDialog:s.Z,QCard:c.Z,QSlideTransition:u.Z,QImg:p.Z,QCardSection:m.Z,QIcon:H.Z,QCardActions:f.Z,QBtn:v.Z}),(0,i.dD)("data-v-6bd2981a");const L=(0,i._)("div",{class:"text-h6"},"Manage items",-1),j={class:"list-group-item"},K={class:"text-content"};function N(e,l,a,o,n,t){const d=(0,i.up)("q-card-section"),r=(0,i.up)("q-icon"),s=(0,i.up)("q-btn"),c=(0,i.up)("draggable"),u=(0,i.up)("q-card-actions"),p=(0,i.up)("q-card"),m=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.j4)(m,{ref:"dialogRef",onHide:o.onDialogHide},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{class:"q-dialog-plugin wider-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[L])),_:1}),(0,i.Wm)(d,{class:"q-pt-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,(0,i.dG)({class:"list-group",tag:"transition-group","component-data":{tag:"ul",type:"transition-group",name:o.drag?null:"flip-list"},modelValue:o.listItems,"onUpdate:modelValue":l[0]||(l[0]=e=>o.listItems=e)},o.dragOptions,{onStart:l[1]||(l[1]=e=>o.drag=!0),onEnd:l[2]||(l[2]=e=>o.drag=!1),"item-key":"id"}),{item:(0,i.w5)((({element:e})=>[(0,i._)("li",j,[(0,i.Wm)(r,{name:"drag_indicator",class:"handle"}),(0,i._)("span",K,(0,V.zw)(e.name),1),(0,i.Wm)(s,{flat:"",round:"",size:"xs",class:"close",onClick:l=>o.openIdeaDelete(e)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{name:"close"})])),_:2},1032,["onClick"])])])),_:1},16,["component-data","modelValue"])])),_:1}),(0,i.Wm)(u,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{color:"grey",label:"Cancel",onClick:o.onCancelClick},null,8,["onClick"]),(0,i.Wm)(s,{color:"primary",label:"OK",onClick:o.onOKClick},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onHide"])}(0,i.Cn)();var E=a(8825),P=a(470),A=a.n(P);const T={props:{listId:String},emits:[...d.Z.emits],components:{draggable:A()},setup(e){const{dialogRef:l,onDialogHide:a,onDialogOK:i,onDialogCancel:o}=(0,d.Z)(),n=(0,E.Z)(),r=(0,O.oR)(),s=(0,t.Vh)(e,"listId").value,c=r.getters["main/findListById"](s),u=(0,t.iH)(c.items),p=()=>{i({newOrder:u.value})},m=e=>{J(n,s,e,r)},g=(0,t.Fl)((()=>({animation:200,group:"description",disabled:!1,ghostClass:"ghost"})));return{dialogRef:l,onDialogHide:a,onOKClick:p,onCancelClick:o,openIdeaDelete:m,listItems:u,dragOptions:g,drag:(0,t.iH)(!1)}}};T.render=N,T.__scopeId="data-v-6bd2981a";const B=T;b()(T,"components",{QDialog:s.Z,QCard:c.Z,QCardSection:m.Z,QIcon:H.Z,QBtn:v.Z,QCardActions:f.Z});const z=(e,l)=>{e.dialog({component:C,persistent:!0}).onOk((e=>{l.dispatch("main/addNewList",{data:e})})).onDismiss((()=>{}))},M=(e,l,a)=>{e.dialog({component:C,componentProps:{list:a},persistent:!0}).onOk((e=>{l.dispatch("main/editList",{data:e})})).onDismiss((()=>{}))},G=(e,l,a,i=!1)=>{e.dialog({component:Q,persistent:!0}).onOk((e=>{a.dispatch("main/addNewIdea",{listId:l,idea:e,refreshIndex:i})})).onDismiss((()=>{}))},Y=(e,l)=>{e.dialog({component:F,componentProps:{idea:l}}).onDismiss((()=>{}))},X=(e,l,a)=>{e.dialog({component:B,componentProps:{listId:l},persistent:!0}).onOk((({newOrder:e})=>{a.dispatch("main/changeListOrder",{listId:l,newOrder:e})})).onDismiss((()=>{}))},$=(e,l,a)=>new Promise((i=>{e.dialog({title:"Confirm deletion",message:"Do you really want to delete this list?",ok:{color:"negative",label:"Yes"},cancel:{color:"grey",label:"No"}}).onOk((()=>{a.dispatch("main/deleteList",{listId:l}),i(!0)})).onCancel((()=>i(!1)))})),J=(e,l,a,i)=>new Promise((o=>{e.dialog({title:"Confirm deletion",message:`Do you really want to delete ${a.name}?`,ok:{color:"negative",label:"Yes"},cancel:{color:"grey",label:"No"}}).onOk((()=>{i.dispatch("main/deleteIdea",{listId:l,ideaId:a.id}),o(!0)})).onCancel((()=>o(!1)))}))},1325:(e,l,a)=>{a.d(l,{X:()=>i,j:()=>o});a(7280),a(71),a(7965);const i=e=>e.split("\n"),o=e=>{let l;try{l=new URL(e)}catch(a){return!1}return"http:"===l.protocol||"https:"===l.protocol}}}]);